{"version":3,"file":"2-form-CBc6lRR9.js","sources":["../../src/js/2-form.js"],"sourcesContent":["// pre define data\nlet formData = { email: '', message: '' };\n\n// form\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\n// field handler\nconst formFields = form => {\n  try {\n    const formDataStorage = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    );\n\n    if (formDataStorage === null) {\n      return;\n    }\n\n    formData = formDataStorage;\n\n    Object.keys(formDataStorage).forEach(key => {\n      form.elements[key].value = formDataStorage[key];\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};\nformFields(refs.form);\n\n// change - handler\nconst fieldChangeHandler = ({ target: formField }) => {\n  formData[formField.name] = formField.value.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n// change - listener\nrefs.form.addEventListener('input', fieldChangeHandler);\n\n// submit handler\nconst formSubmitHandler = e => {\n  e.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    alert('All form field are required.');\n    return;\n  }\n  e.target.reset();\n  formData = { email: '', message: '' };\n  localStorage.removeItem('feedback-form-state');\n};\n// submit - listener\nrefs.form.addEventListener('submit', formSubmitHandler);\n"],"names":["formData","refs","formFields","form","formDataStorage","key","err","fieldChangeHandler","formField","formSubmitHandler"],"mappings":"AACA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAGvC,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAGMC,EAAaC,GAAQ,CACzB,GAAI,CACF,MAAMC,EAAkB,KAAK,MAC3B,aAAa,QAAQ,qBAAqB,CAChD,EAEI,GAAIA,IAAoB,KACtB,OAGFJ,EAAWI,EAEX,OAAO,KAAKA,CAAe,EAAE,QAAQC,GAAO,CAC1CF,EAAK,SAASE,CAAG,EAAE,MAAQD,EAAgBC,CAAG,CACpD,CAAK,CACF,OAAQC,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CACH,EACAJ,EAAWD,EAAK,IAAI,EAGpB,MAAMM,EAAqB,CAAC,CAAE,OAAQC,KAAgB,CACpDR,EAASQ,EAAU,IAAI,EAAIA,EAAU,MAAM,OAC3C,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,EAEAC,EAAK,KAAK,iBAAiB,QAASM,CAAkB,EAGtD,MAAME,EAAoB,GAAK,CAE7B,GADA,EAAE,eAAc,EACZT,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,8BAA8B,EACpC,MACD,CACD,EAAE,OAAO,QACTA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAW,qBAAqB,CAC/C,EAEAC,EAAK,KAAK,iBAAiB,SAAUQ,CAAiB"}